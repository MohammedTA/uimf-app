<div>
    <label for="{{id}}">{{field.metadata.label}}</label>
    <div ref:container class="{{class}}"></div>
</div>

<script>
    import * as umf from "core-framework";

    var inputId = 0;

    export default {
        oncreate() {
            let field = this.get("field");
            let tabindex = this.get("tabindex");
            let app = this.get("app");

            var input = app.controlRegister.getInput(field.metadata.type);

            var i = new input.component({
                target: this.refs.container,
                data: {
                    field: field,
                    tabindex: tabindex,
                    id: this.get("id"),
                    app: app
                }
            });

            // Set correct css class based on the field type.
            var outputDisplayConfig = input.constants || {};
            if (outputDisplayConfig.block) {
                this.set({ class: "block" });
            }
            else {
                this.set({ class: "inline" });
            }
        },
        data() {
            inputId += 1;
            return {
                id: "i" + inputId
            }
        }
    }

</script>

<style>
    .inline {
        display: inline-block
    }
</style>
